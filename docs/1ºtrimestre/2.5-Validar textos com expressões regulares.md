# ğŸ” CapÃ­tulo 2.5 â€“ Validar Textos com ExpressÃµes Regulares

> âœ¨ *"ExpressÃµes regulares sÃ£o a lupa do programador: permitem enxergar padrÃµes invisÃ­veis dentro de qualquer texto."*

------

## ğŸ“˜ IntroduÃ§Ã£o: o que sÃ£o ExpressÃµes Regulares?

Uma **expressÃ£o regular** (ou regex) Ã© um tipo especial de linguagem que permite **identificar padrÃµes dentro de textos**.

ğŸ“Œ Elas sÃ£o usadas para:

- Verificar se um **formato estÃ¡ correto** (ex: CPF, e-mail, CEP, telefone)
- **Buscar informaÃ§Ãµes** especÃ­ficas dentro de textos (ex: todas as palavras com "al")
- **Substituir padrÃµes** (ex: remover todos os espaÃ§os duplicados)

------

## ğŸ’¡ Por que aprender regex?

| SituaÃ§Ã£o comum                               | SoluÃ§Ã£o com regex? |
| -------------------------------------------- | ------------------ |
| Validar e-mails                              | âœ…                  |
| Extrair todos os nÃºmeros de uma frase        | âœ…                  |
| Substituir todos os espaÃ§os por hÃ­fens       | âœ…                  |
| Conferir se uma senha tem letras e nÃºmeros   | âœ…                  |
| Detectar se uma frase comeÃ§a com uma palavra | âœ…                  |

Regex estÃ¡ presente em linguagens como **Python, JavaScript, Java, PHP**, e atÃ© em **editores de texto** como VSCode e Notepad++.

------

## ğŸ”¢ 2.5.1 Importando o mÃ³dulo `re`

Para usar expressÃµes regulares em Python, precisamos importar o mÃ³dulo **`re`** (regex):

```python
import re
```

------

## ğŸ”  2.5.2 Metacaracteres mais comuns

| SÃ­mbolo | Significado                            | Exemplo                                |
| ------- | -------------------------------------- | -------------------------------------- |
| `.`     | Qualquer caractere (exceto nova linha) | `a.b` casa com `aab`, `acb`            |
| `^`     | InÃ­cio da string                       | `^abc` casa com `abc...`               |
| `$`     | Final da string                        | `abc$` casa com `...abc`               |
| `*`     | Zero ou mais ocorrÃªncias               | `a*` casa com `""`, `a`, `aaaa`        |
| `+`     | Uma ou mais ocorrÃªncias                | `a+` casa com `a`, `aa`                |
| `?`     | Zero ou uma ocorrÃªncia                 | `colou?r` casa com `color` ou `colour` |
| `[]`    | Conjunto de caracteres                 | `[aeiou]` casa com qualquer vogal      |
| `{n}`   | Exatamente `n` repetiÃ§Ãµes              | `\d{3}` casa com 3 dÃ­gitos             |
| `       | `                                      | OU lÃ³gico                              |
| `()`    | Agrupamento                            | `(\d{2})/(\d{2})/\d{4}`                |

------

## ğŸ”¤ 2.5.3 Classes de caracteres

| CÃ³digo | Significado                       | Exemplo                      |
| ------ | --------------------------------- | ---------------------------- |
| `\d`   | Qualquer dÃ­gito (0-9)             | `\d\d\d` â†’ 3 dÃ­gitos         |
| `\D`   | NÃ£o dÃ­gito                        |                              |
| `\w`   | Letra, nÃºmero ou _                | `\w+` â†’ uma ou mais palavras |
| `\W`   | Qualquer sÃ­mbolo nÃ£o alfanumÃ©rico |                              |
| `\s`   | EspaÃ§o, tabulaÃ§Ã£o                 | `\s+` â†’ um ou mais espaÃ§os   |
| `\S`   | Qualquer caractere nÃ£o branco     |                              |

------

## âœ… 2.5.4 FunÃ§Ãµes principais do mÃ³dulo `re`

### ğŸ” `re.search(padrao, texto)`

Procura o padrÃ£o **em qualquer parte** do texto.

```python
import re

txt = "O aluno estÃ¡ online"
resultado = re.search("online", txt)

if resultado:
    print("Palavra encontrada!")
```

------

### ğŸ¯ `re.match(padrao, texto)`

Verifica se o texto **comeÃ§a** com o padrÃ£o.

```python
print(re.match("Python", "Python Ã© bom"))  # âœ…
print(re.match("bom", "Python Ã© bom"))     # âŒ
```

------

### ğŸ§  `re.fullmatch(padrao, texto)`

Verifica se o texto **inteiro** corresponde ao padrÃ£o.

```python
print(re.fullmatch(r"\d{5}-\d{3}", "13800-000"))  # CEP vÃ¡lido
```

------

### ğŸ§µ `re.findall(padrao, texto)`

Retorna **todas as ocorrÃªncias** do padrÃ£o no texto como uma lista.

```python
frase = "Meu telefone Ã© 11992345678 e meu CPF Ã© 12345678900"
print(re.findall(r"\d+", frase))  # Retorna todos os nÃºmeros
```

------

### ğŸ§½ `re.sub(padrao, novo, texto)`

Substitui todas as ocorrÃªncias do padrÃ£o por outro valor.

```python
texto = "Hoje Ã© segunda-feira. AmanhÃ£ Ã© terÃ§a-feira."
novo = re.sub("segunda-feira", "feriado", texto)
print(novo)
```

------

## ğŸ§ª 2.5.5 Exemplos prÃ¡ticos com validaÃ§Ã£o

### ğŸ”’ Validar e-mail

```python
email = "aluno@escola.com"
padrao = r"^[\w\.-]+@[\w\.-]+\.\w{2,}$"
print(re.fullmatch(padrao, email))
```

### ğŸ§¾ Validar CPF

```python
cpf = "123.456.789-00"
padrao = r"^\d{3}\.\d{3}\.\d{3}-\d{2}$"
print(re.fullmatch(padrao, cpf))
```

### â˜ï¸ Validar telefone com DDD

```python
tel = "(11) 91234-5678"
padrao = r"^\(\d{2}\)\s9\d{4}-\d{4}$"
print(re.fullmatch(padrao, tel))
```

------

## âœ… Boas prÃ¡ticas com regex

| Boa prÃ¡tica                     | Justificativa                                     |
| ------------------------------- | ------------------------------------------------- |
| Usar `r""` (raw strings)        | Evita erros com barras invertidas (`\`)           |
| Testar expressÃµes no regex101   | Permite ver grupos, quantificadores, visualmente  |
| Escrever expressÃµes simples     | ExpressÃµes muito complexas sÃ£o difÃ­ceis de manter |
| Usar `fullmatch` para validaÃ§Ã£o | Garante que o texto inteiro siga o padrÃ£o         |

------

## ğŸ§  Desafio Guiado

```python
import re

texto = input("Digite um CPF (xxx.xxx.xxx-xx): ")
padrao = r"^\d{3}\.\d{3}\.\d{3}-\d{2}$"

if re.fullmatch(padrao, texto):
    print("CPF vÃ¡lido âœ…")
else:
    print("CPF invÃ¡lido âŒ")
```

------

## ğŸ“˜ ExercÃ­cios Recomendados

1. âœ‰ï¸ Crie um validador de e-mail simples.
2. ğŸ“… Verifique se uma data estÃ¡ no formato `dd/mm/aaaa`.
3. ğŸ§¼ Substitua todos os espaÃ§os duplos de um texto por um Ãºnico espaÃ§o.
4. ğŸ”’ Valide senhas que devem conter:
   - Pelo menos 8 caracteres
   - Letras maiÃºsculas, minÃºsculas e nÃºmeros
5. ğŸ“ FaÃ§a uma busca de todas as palavras que comeÃ§am com â€œaâ€ em uma frase.

------

## ğŸ”— ReferÃªncias

- [DocumentaÃ§Ã£o oficial â€“ mÃ³dulo `re`](https://docs.python.org/pt-br/3/library/re.html)
- [regex101.com (ambiente interativo)](https://regex101.com/)
- [Curso em VÃ­deo â€“ ExpressÃµes Regulares](https://www.youtube.com/watch?v=W70C5h3ik3c)

------

